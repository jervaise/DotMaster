# DotMaster v2.2.7 - Font System Overhaul & Critical Tank Fix

*Release Date: December 28, 2024*

## Overview

Version 2.2.7 introduces a comprehensive font system overhaul with the modern Expressway font and fixes a critical tank threat detection issue in raid environments. This release focuses on visual consistency and improving the tank experience when using Force Threat Color settings.

## Key Features

### **Complete Expressway Font Integration**
- **Modern Typography**: All UI elements now use the sleek Expressway font for a contemporary look
- **Consistent Styling**: Unified font appearance across all tabs, dialogs, and interface components
- **Enhanced Readability**: Improved text clarity with proper outline effects and sizing
- **Professional Appearance**: Clean, modern font that matches current UI design trends

### **Critical Bug Fix: Raid Tank Threat Detection**
- **Fixed Incorrect Threat Colors**: Resolved issue where tanks would see "lost threat" colors when another tank had aggro in raids
- **Smart Raid Detection**: Added intelligent detection of other tanks in raid environments
- **Improved Accuracy**: Enhanced combat state and PVP checks for more reliable threat coloring
- **Preserved Functionality**: Maintains normal threat behavior in dungeons and solo content

## Technical Improvements

### **Robust Font System**
- **Font Object Management**: Complete font object definitions for all sizes and styles
- **Helper Functions**: Easy-to-use font mapping and application functions
- **Error Handling**: Improved font initialization with proper error checking
- **Maintainable Code**: Clean font system architecture for future enhancements

### **Enhanced Threat Detection**
- **Combat State Validation**: Added proper checks for player and unit combat states
- **PVP Protection**: Disables threat coloring in PVP situations to prevent conflicts
- **Raid-Aware Logic**: Uses Plater's tank roster detection in raid environments
- **Target Validation**: Properly identifies when other tanks are tanking specific mobs

## Compatibility & Requirements

### **WoW Version Support**
- **Interface Version**: Updated to 110200 for WoW 11.2.0
- **Minimum Version**: WoW 11.1.7 (interface 110107)
- **Fully Compatible**: Both WoW 11.1.7 and 11.2.0

### **Dependencies**
- World of Warcraft: The War Within (11.1.7+)
- Plater Nameplates (latest version recommended)

## User Experience Enhancements

### **Visual Improvements**
- **Gold Author Credits**: Footer author/version text now displays in elegant gold color
- **Better Contrast**: Enhanced text visibility with proper outline effects
- **Consistent Sizing**: Standardized font sizes across all interface elements
- **Unified Appearance**: Professional, modern look that integrates well with current WoW UI

### **Tank Experience**
- **Accurate Threat Colors**: No more false "lost threat" indicators in raids
- **Smart Context Awareness**: Different behavior in raids vs dungeons vs solo content
- **Preserved Customization**: All existing Force Threat Color settings work as expected

## Installation & Updates

- **No Configuration Required**: Font improvements and threat fixes are automatically applied
- **Backward Compatibility**: All existing settings and tracked spells are preserved
- **Automatic Activation**: Tank threat fix is active when Force Threat Color is enabled

## Summary

DotMaster 2.2.7 represents a significant visual upgrade and important bug fix while maintaining all the powerful DoT tracking features you rely on. The new Expressway font system provides a modern, professional appearance, and the improved raid tank threat detection ensures accurate threat coloring in all environments.

This release addresses one of the most reported issues from tank players while simultaneously modernizing the entire visual experience of the addon. 